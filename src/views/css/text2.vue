<template>
  <div class="body">

      <div class="down">å¾€ä¸‹æ»‘</div>
      <div class="sticky">
        <h1 :style="'background-position-x: calc(100% - ' + scrolled + '% );'">Less bezel,more screen.</h1>
      </div>

  </div>
</template>

<script>
export default {
    name:'text2',
    data() {
        return{
            scrolled:0,
        }
    },
    mounted(){
        window.addEventListener('scroll',this.go_scroll)
    },
    methods:{
        go_scroll(e){
            let top = document.documentElement.scrollTop
            let s_height = document.documentElement.scrollHeight
            let c_height = document.documentElement.clientHeight
            console.log(e)
            console.log(top)
            // æ»‘åŠ¨ä¸­ - top è·ç¦»é¡¶éƒ¨çš„é«˜åº¦
            // console.log(top)
            
            // scrollHeightæ˜¯ç½‘é¡µå†…å®¹å®baié™…é«˜åº¦ ï¼ˆå…¨éƒ¨é«˜åº¦ï¼‰
            // console.log(s_height)

            // æµè§ˆå™¨çª—å£é«˜åº¦ å®¢æˆ·ç«¯çª—å£é«˜åº¦    ï¼ˆçª—å£é«˜åº¦ï¼‰
            // console.log(c_height)

            // è¿™ä¸ªå˜é‡ç”¨æ¥ä¿å­˜ ç§»åŠ¨çš„è·ç¦» å  å¯ä»¥ç§»åŠ¨è·ç¦»çš„ å‚æ•° 0 ~ 1
            this.scrolled = 100 * top / (s_height - c_height)
            console.log(this.scrolled) 
        }
    },
    beforeRouteLeave(to,from,next){
        this.$destroy();
        next();
    },
    destroyed() {
        console.log('é”€æ¯ç›‘å¬')
        window.removeEventListener('scroll',this.go_scroll)
        console.log('é”€æ¯å®Œæ¯•')
    }
}
</script>


<style scoped>
.down{
    color: #fff;
    font-size: 30px;
    margin: 100px auto;
}
.body{ 
    background-color: #000;
    position: absolute;
    width: 100%;
    min-height:200%;
    user-select: none;
}
.sticky {
    position: sticky;
    top:0;

    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}
h1{
    font-family: Helvetica;
    font-size: 48px;
    color: #fff;
    /* æ–‡å­—é—´éš” ğŸ‘‡*/
    letter-spacing: -0.3px;

    background-image: linear-gradient(90deg,rgba(255,255,255,1) 0%,rgba(255,255,255,1) 33.33%,rgba(255,255,255,0) 66.67%,rgba(255,255,255,0) 100%);
    background-size: 300% 100%;
    background-position-x: 100%;

    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;

}

</style>